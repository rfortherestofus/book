<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="David Keyes">
<title>R for the Rest of Us: A Statistics-Free Introduction - 1&nbsp; An R Programming Crash Course</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data-viz.html" rel="next">
<link href="./introduction.html" rel="prev">
<link href="./assets/r-treasure-chest.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdn.usefathom.com/script.js" data-site="JNTNGGFP" defer=""></script>
<meta property="og:title" content="R for the Rest of Us: A Statistics-Free Introduction - 1&nbsp; An R Programming Crash Course">
<meta property="og:description" content="">
<meta property="og:image" content="https://book.rfortherestofus.com/assets/featured-image.png">
<meta property="og:site_name" content="R for the Rest of Us: A Statistics-Free Introduction">
<meta property="og:image:height" content="547">
<meta property="og:image:width" content="1114">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./crash-course.html">Part I: Visualizations</a></li><li class="breadcrumb-item"><a href="./crash-course.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">An R Programming Crash Course</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./assets/cover.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R for the Rest of Us: A Statistics-Free Introduction</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/rfortherestofus/book" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the Book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Part I: Visualizations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./crash-course.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">An R Programming Crash Course</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Principles of Data Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./themes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Custom Data Visualization Themes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Maps and Geospatial Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Designing Effective Tables</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Part II: Reports, Presentations, and Websites</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R Markdown Reports</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parameterized-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Parameterized Reporting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./presentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Slideshow Presentations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./websites.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Websites</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Quarto</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Part III: Automation and Collaboration</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Automatically Accessing Online Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Creating Functions and Packages</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./errata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Errata</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./purchase.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Purchase</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#setting-up" id="toc-setting-up" class="nav-link active" data-scroll-target="#setting-up">Setting Up</a>
  <ul class="collapse">
<li><a href="#installing-r-and-rstudio" id="toc-installing-r-and-rstudio" class="nav-link" data-scroll-target="#installing-r-and-rstudio">Installing R and RStudio</a></li>
  <li><a href="#exploring-the-rstudio-interface" id="toc-exploring-the-rstudio-interface" class="nav-link" data-scroll-target="#exploring-the-rstudio-interface">Exploring the RStudio Interface</a></li>
  </ul>
</li>
  <li><a href="#r-script-files" id="toc-r-script-files" class="nav-link" data-scroll-target="#r-script-files">R Script Files</a></li>
  <li>
<a href="#basic-r-syntax" id="toc-basic-r-syntax" class="nav-link" data-scroll-target="#basic-r-syntax">Basic R Syntax</a>
  <ul class="collapse">
<li><a href="#arithmetic-operators" id="toc-arithmetic-operators" class="nav-link" data-scroll-target="#arithmetic-operators">Arithmetic Operators</a></li>
  <li><a href="#comparison-operators" id="toc-comparison-operators" class="nav-link" data-scroll-target="#comparison-operators">Comparison Operators</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  </ul>
</li>
  <li>
<a href="#working-with-data" id="toc-working-with-data" class="nav-link" data-scroll-target="#working-with-data">Working with Data</a>
  <ul class="collapse">
<li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">Importing Data</a></li>
  <li><a href="#saving-data-as-objects" id="toc-saving-data-as-objects" class="nav-link" data-scroll-target="#saving-data-as-objects">Saving Data as Objects</a></li>
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages">Installing Packages</a></li>
  </ul>
</li>
  <li><a href="#rstudio-projects" id="toc-rstudio-projects" class="nav-link" data-scroll-target="#rstudio-projects">RStudio Projects</a></li>
  <li>
<a href="#data-analysis-with-the-tidyverse" id="toc-data-analysis-with-the-tidyverse" class="nav-link" data-scroll-target="#data-analysis-with-the-tidyverse">Data Analysis with the tidyverse</a>
  <ul class="collapse">
<li><a href="#sec-tidyverse-functions" id="toc-sec-tidyverse-functions" class="nav-link" data-scroll-target="#sec-tidyverse-functions">tidyverse Functions</a></li>
  <li><a href="#the-tidyverse-pipe" id="toc-the-tidyverse-pipe" class="nav-link" data-scroll-target="#the-tidyverse-pipe">The tidyverse Pipe</a></li>
  </ul>
</li>
  <li><a href="#comments" id="toc-comments" class="nav-link" data-scroll-target="#comments">Comments</a></li>
  <li><a href="#how-to-get-help" id="toc-how-to-get-help" class="nav-link" data-scroll-target="#how-to-get-help">How to Get Help</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources">Additional Resources</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/rfortherestofus/book/blob/main/crash-course.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/rfortherestofus/book/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./crash-course.html">Part I: Visualizations</a></li><li class="breadcrumb-item"><a href="./crash-course.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">An R Programming Crash Course</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-crash-course-chapter" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">An R Programming Crash Course</span></span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header><h6 class="anchored">You are reading the free online version of this book. If you’d like to purchase a physical or electronic copy, you can buy it from <a href="https://nostarch.com/r-rest-us">No Starch Press</a>, <a href="https://www.powells.com/book/r-for-the-rest-of-us-9781718503328">Powell’s</a>, <a href="https://www.barnesandnoble.com/w/r-for-the-rest-of-us-david-keyes/1145069854?ean=9781718503328">Barnes and Noble</a> or <a href="https://a.co/d/fzAMxMV">Amazon</a>.</h6><p>R has a well-earned reputation for being hard to learn, especially for those who come to it without prior programming experience. This chapter is designed to help anyone who has never used R before. You’ll set up an R programming environment with RStudio and learn how to use functions, objects, packages, and projects to work with data. You’ll also be introduced to the tidyverse package, which contains the core data analysis and manipulation functions used in this book. This chapter won’t provide a complete introduction to R programming; rather, it will focus on the knowledge you need to follow along with the rest of the book. If you have prior experience with R, feel free to skip ahead to <a href="data-viz.html" class="quarto-xref"><span>Chapter 2</span></a>.</p>
<section id="setting-up" class="level2"><h2 class="anchored" data-anchor-id="setting-up">Setting Up</h2>
<p>You’ll need two pieces of software to use R effectively. The first is R itself, which provides the underlying computational tools that make the language work. The second is an <em>integrated development environment (IDE)</em> like RStudio. This coding platform simplifies working with R. The best way to understand the relationship between R and RStudio is with this analogy from Chester Ismay and Albert Kim’s book <em>Statistical Inference via Data Science: A Modern Dive into R and the Tidyverse</em>: R is the engine that powers your data, and RStudio is like the dashboard that provides a user-friendly interface.</p>
<section id="installing-r-and-rstudio" class="level3"><h3 class="anchored" data-anchor-id="installing-r-and-rstudio">Installing R and RStudio</h3>
<p>To download R, go to <a href="https://cloud.r-project.org" class="uri">https://cloud.r-project.org</a> and choose the link for your operating system. Once you’ve installed it, open the file. This should open an interface, like the one shown in <a href="#fig-r-console" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>, that lets you work with R on your operating system’s command line. For example, enter <code>2 + 2</code>, and you should see <code>4</code>.</p>
<div id="fig-r-console" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-r-console-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/r-console.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-r-console-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.1: The R console
</figcaption></figure>
</div>
<p>A few brave souls work with R using only this command line, but most opt to use RStudio, which provides a way to see your files, the output of your code, and more. You can download RStudio at <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a>. Install RStudio as you would any other app and open it.</p>
</section><section id="exploring-the-rstudio-interface" class="level3"><h3 class="anchored" data-anchor-id="exploring-the-rstudio-interface">Exploring the RStudio Interface</h3>
<p>The first time you open RStudio, you should see the three panes shown in <a href="#fig-rstudio-no-project" class="quarto-xref">Figure&nbsp;<span>1.2</span></a>.</p>
<div id="fig-rstudio-no-project" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-rstudio-no-project-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/rstudio-no-project.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rstudio-no-project-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.2: The RStudio editor
</figcaption></figure>
</div>
<p>The left pane should look familiar. It’s similar to the screen you saw when working in R on the command line. This is known as the console. You’ll use it to enter code and see the results. This pane has several tabs, such as <code>Terminal</code> and <code>Background Jobs</code>, for more advanced uses. For now, you’ll stick to the default tab.</p>
<p>At the bottom right, the files pane shows all of the files on your computer. You can click any file to open it within RStudio. Finally, at the top right is the environment pane, which shows the objects that are available to you when working in RStudio. Objects are discussed in “Saving Data as Objects” on page 11.</p>
<p>There is one more pane that you’ll typically use when working in RStudio, but to see it, first you need to create an R script file.</p>
</section></section><section id="r-script-files" class="level2"><h2 class="anchored" data-anchor-id="r-script-files">R Script Files</h2>
<p>If you write all of your code in the console, you won’t have any record of it. Say you sit down today and import your data, analyze it, and then make some graphs. If you run these operations in the console, you’ll have to re-create that code from scratch tomorrow. But if you write your code in files instead, you can run it multiple times.</p>
<p>R script files, which use the .R extension, save your code so you can run it later. To create an R script file, go to <em>File &gt; New File &gt; R Script</em>, and the script file pane should appear in the top left of RStudio, as shown in <a href="#fig-rstudio-four-panels" class="quarto-xref">Figure&nbsp;<span>1.3</span></a>. Save this file in your Documents folder as <code>sample-code.R</code>.</p>
<div id="fig-rstudio-four-panels" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-rstudio-four-panels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/rstudio-four-panels.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rstudio-four-panels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.3: The script file pane (top left)
</figcaption></figure>
</div>
<p>Now you can enter R code into the new pane to add it to your script file. For example, try entering <code>2 + 2</code> in the script file pane to perform a simple addition operation.</p>
<p>To run a script file, click Run or use the keyboard shortcut <code>command-enter</code> on macOS or <code>ctrl-enter</code> on Windows. The result (4, in this case) should show up in the console pane.</p>
<p>You now have a working programming environment. Next you’ll use it to write some simple R code.</p>
</section><section id="basic-r-syntax" class="level2"><h2 class="anchored" data-anchor-id="basic-r-syntax">Basic R Syntax</h2>
<p>If you’re trying to learn R, you probably want to perform more complex operations than <code>2 + 2</code>, but understanding the fundamentals will prepare you to do more serious data analysis tasks later in this chapter. Let’s cover some of these basics.</p>
<section id="arithmetic-operators" class="level3"><h3 class="anchored" data-anchor-id="arithmetic-operators">Arithmetic Operators</h3>
<p>Besides <code>+</code>, R supports the common arithmetic operators <code>-</code> for subtraction, <code>*</code> for multiplication, and <code>/</code> for division. Try entering the following in the console:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">2</span> <span class="op">-</span> <span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">3</span> <span class="op">*</span> <span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">16</span> <span class="op">/</span> <span class="fl">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>As you can see, R returns the result of each calculation you enter. You don’t have to add the spaces around operators as shown here, but doing so makes your code much more readable.</p>
<p>You can also use parentheses to perform multiple operations at once and see their result. The parentheses specify the order in which R will evaluate the expression. Try running the following:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">2</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<p>This code first evaluates the expression within the parentheses, <code>2 + 1</code>, before multiplying the result by 2 in order to get 6.</p>
<p>R also has more advanced arithmetic operators, such as ** to calculate exponents:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<p>This is equivalent to 2<sup>3</sup>, which returns 8.</p>
<p>To get the remainder of a division operation, you can use the <code>%%</code> operator:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">10</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Dividing 10 by 3 produces a remainder of 1, the value R returns.</p>
<p>You won’t need to use these advanced arithmetic operators for the activities in this book, but they’re good to know nonetheless.</p>
</section><section id="comparison-operators" class="level3"><h3 class="anchored" data-anchor-id="comparison-operators">Comparison Operators</h3>
<p>R also uses <em>comparison operators</em>, which let you test how one value compares to another. R will return either <code>TRUE</code> or <code>FALSE</code>. For example, enter <code>2 &gt; 1</code> in the console:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">2</span> <span class="op">&gt;</span> <span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>R should return <code>TRUE</code>, because 2 is greater than 1.</p>
<p>Other common comparison operators include less than (<code>&lt;</code>), greater than or equal to (<code>&gt;=</code>), less than or equal to (<code>&lt;=</code>), equal to (<code>==</code>), and not equal to (<code>!=</code>). Here are some examples:</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">498</span> <span class="op">==</span> <span class="fl">498</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">2</span> <span class="op">!=</span> <span class="fl">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>When you enter <code>498 == 498</code> in the console, R should return <code>TRUE</code> because the two values are equal. If you run <code>2 != 2</code> in the console, R should return <code>FALSE</code> because 2 does not <em>not</em> equal 2.</p>
<p>You’ll rarely use comparison operators to directly test how one value compares to another; instead, you’ll use them to perform tasks like keeping only data where a value is greater than a certain threshold. You’ll see comparison operators used in this way in “tidyverse Functions” (<a href="#sec-tidyverse-functions" class="quarto-xref"><span>Section 1.6.1</span></a>).</p>
</section><section id="functions" class="level3"><h3 class="anchored" data-anchor-id="functions">Functions</h3>
<p>You can perform even more useful operations by making use of R’s many <em>functions</em>, predefined sections of code that let you efficiently do specific things. Functions have a name and a set of parentheses containing <em>arguments</em>, which are values that affect the function’s behavior.</p>
<p>Consider the <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> function, which displays information:</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1.1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.1</code></pre>
</div>
</div>
<p>The name of the <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> function is <code>print</code>. Within the function’s parentheses, you specify the argument name – <code>x</code>, in this case — followed by the equal sign (<code>=</code>) and a value for the function to display. This code will print the number <code>1.1</code>.</p>
<p>To separate multiple arguments, you use commas. For example, you can use the <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> function’s digits argument to indicate how many digits of a number to display:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1.1</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>This code will display only one digit (in other words, a whole number).</p>
<p>Using these two arguments allows you to do something specific (display results) while also giving you the flexibility to change the function’s behavior.</p>
<div class="callout callout-style-simple callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>For a list of all functions built into R, see <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html" class="uri">https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html</a>.</p>
</div>
</div>
<p>A common R pattern is using a function within a function. For example, if you wanted to calculate the <em>mean</em>, or average, of the values 10, 20, and 30, you could use the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> function to operate on the result of the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function like so:</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
</div>
<p>The <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function combines multiple values into one, which is necessary because the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> function accepts only one argument. This is why the code has two matching sets of open and close parentheses: one for <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> and a nested one for <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>.</p>
<p>The value after the equal sign in this example, <code>c(10, 20, 30)</code>, tells R to use the values 10, 20, and 30 to calculate the mean. Running this code in the console returns the value <code>20</code>.</p>
<p>The functions <code><a href="https://rdrr.io/r/stats/median.html">median()</a></code> and <code><a href="https://rdrr.io/r/base/mode.html">mode()</a></code> work with <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> in the same way. To learn how to use a function and what arguments it accepts, enter <code>?</code> followed by the function’s name in the console to see the function’s help file.</p>
<p>Next, let’s look at how to import data for your R programs to work with.</p>
</section></section><section id="working-with-data" class="level2"><h2 class="anchored" data-anchor-id="working-with-data">Working with Data</h2>
<p>R lets you do all of the same data manipulation tasks you might perform in a tool like Excel, such as calculating averages or totals. Conceptually, however, working with data in R is very different from working with Excel, where your data and analysis code live in the same place: a spreadsheet. While the data you work with in R might look similar to the data you work with in Excel, it typically comes from some external file, so you have to run code to import it.</p>
<section id="importing-data" class="level3"><h3 class="anchored" data-anchor-id="importing-data">Importing Data</h3>
<p>You’ll import data from a <code>comma-separated values</code> (CSV) file, a text file that holds a series of related values separated by commas. You can open CSV files using most spreadsheet applications, which use columns rather than commas as separators. For example, <a href="#fig-population-by-state-csv" class="quarto-xref">Figure&nbsp;<span>1.4</span></a> shows the <code>population-by-state.csv</code> file in Excel.</p>
<div id="fig-population-by-state-csv" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-population-by-state-csv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/population-by-state-csv.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-population-by-state-csv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.4: The population-by-state.csv file in Excel
</figcaption></figure>
</div>
<p>To work with this file in R, download it from <a href="https://data.rfortherestofus.com/population-by-state.csv" class="uri">https://data.rfortherestofus.com/population-by-state.csv</a>. Save it to a location on your computer, such as your <em>Documents</em> folder.</p>
<p>Next, to import the file into R, add a line like the following to the <code>sample-code.R</code> file you created earlier in this chapter, replacing my filepath with the path to the file’s location on your system:</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"/Users/davidkeyes/Documents/population-by-state.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The file argument in the <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function specifies the path to the file to open.</p>
<p>The <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function can accept additional optional arguments, separated by commas. For example, the following line uses the <code>skip</code> argument in addition to file to import the same file but skip the first row:</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="st">"/Users/davidkeyes/Documents/population-by-state.csv"</span>,</span>
<span>  skip <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To learn about additional arguments for this function, enter <code>?read.csv()</code> in the console to see its help file.</p>
<p>At this point, you can run the code to import your data (without the <code>skip</code> argument). Highlight the line you want to run in the script file pane in RStudio and click <strong>Run</strong>. You should see the following output in the console pane:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   rank                State      Pop  Growth  Pop2018  Pop2010 growthSince2010
1     1           California 39613493  0.0038 39461588 37319502          0.0615
2     2                Texas 29730311  0.0385 28628666 25241971          0.1778
3     3              Florida 21944577  0.0330 21244317 18845537          0.1644
4     4             New York 19299981 -0.0118 19530351 19399878         -0.0051
5     5         Pennsylvania 12804123  0.0003 12800922 12711160          0.0073
6     6             Illinois 12569321 -0.0121 12723071 12840503         -0.0211
7     7                 Ohio 11714618  0.0033 11676341 11539336          0.0152
8     8              Georgia 10830007  0.0303 10511131  9711881          0.1151
9     9       North Carolina 10701022  0.0308 10381615  9574323          0.1177
10   10             Michigan  9992427  0.0008  9984072  9877510          0.0116
11   11           New Jersey  8874520 -0.0013  8886025  8799446          0.0085
12   12             Virginia  8603985  0.0121  8501286  8023699          0.0723
13   13           Washington  7796941  0.0363  7523869  6742830          0.1563
14   14              Arizona  7520103  0.0506  7158024  6407172          0.1737
15   15            Tennessee  6944260  0.0255  6771631  6355311          0.0927
16   16        Massachusetts  6912239  0.0043  6882635  6566307          0.0527
17   17              Indiana  6805663  0.0165  6695497  6490432          0.0486
18   18             Missouri  6169038  0.0077  6121623  5995974          0.0289
19   19             Maryland  6065436  0.0049  6035802  5788645          0.0478
20   20             Colorado  5893634  0.0356  5691287  5047349          0.1677
21   21            Wisconsin  5852490  0.0078  5807406  5690475          0.0285
22   22            Minnesota  5706398  0.0179  5606249  5310828          0.0745
23   23       South Carolina  5277830  0.0381  5084156  4635649          0.1385
24   24              Alabama  4934193  0.0095  4887681  4785437          0.0311
25   25            Louisiana  4627002 -0.0070  4659690  4544532          0.0181
26   26             Kentucky  4480713  0.0044  4461153  4348181          0.0305
27   27               Oregon  4289439  0.0257  4181886  3837491          0.1178
28   28             Oklahoma  3990443  0.0127  3940235  3759944          0.0613
29   29          Connecticut  3552821 -0.0052  3571520  3579114         -0.0073
30   30                 Utah  3310774  0.0499  3153550  2775332          0.1929
31   31          Puerto Rico  3194374  0.0003  3193354  3721525         -0.1416
32   32               Nevada  3185786  0.0523  3027341  2702405          0.1789
33   33                 Iowa  3167974  0.0061  3148618  3050745          0.0384
34   34             Arkansas  3033946  0.0080  3009733  2921964          0.0383
35   35          Mississippi  2966407 -0.0049  2981020  2970548         -0.0014
36   36               Kansas  2917224  0.0020  2911359  2858190          0.0207
37   37           New Mexico  2105005  0.0059  2092741  2064552          0.0196
38   38             Nebraska  1951996  0.0137  1925614  1829542          0.0669
39   39                Idaho  1860123  0.0626  1750536  1570746          0.1842
40   40        West Virginia  1767859 -0.0202  1804291  1854239         -0.0466
41   41               Hawaii  1406430 -0.0100  1420593  1363963          0.0311
42   42        New Hampshire  1372203  0.0138  1353465  1316762          0.0421
43   43                Maine  1354522  0.0115  1339057  1327629          0.0203
44   44              Montana  1085004  0.0229  1060665   990697          0.0952
45   45         Rhode Island  1061509  0.0030  1058287  1053959          0.0072
46   46             Delaware   990334  0.0257   965479   899593          0.1009
47   47         South Dakota   896581  0.0204   878698   816166          0.0985
48   48         North Dakota   770026  0.0158   758080   674715          0.1413
49   49               Alaska   724357 -0.0147   735139   713910          0.0146
50   50 District of Columbia   714153  0.0180   701547   605226          0.1800
51   51              Vermont   623251 -0.0018   624358   625879         -0.0042
52   52              Wyoming   581075  0.0060   577601   564487          0.0294
   Percent    density
1   0.1184   254.2929
2   0.0889   113.8081
3   0.0656   409.2229
4   0.0577   409.5400
5   0.0383   286.1704
6   0.0376   226.3967
7   0.0350   286.6944
8   0.0324   188.3054
9   0.0320   220.1041
10  0.0299   176.7351
11  0.0265  1206.7609
12  0.0257   217.8776
13  0.0233   117.3249
14  0.0225    66.2016
15  0.0208   168.4069
16  0.0207   886.1845
17  0.0203   189.9644
18  0.0184    89.7419
19  0.0181   624.8518
20  0.0176    56.8653
21  0.0175   108.0633
22  0.0171    71.6641
23  0.0158   175.5707
24  0.0147    97.4271
25  0.0138   107.0966
26  0.0134   113.4760
27  0.0128    44.6872
28  0.0119    58.1740
29  0.0106   733.7507
30  0.0099    40.2918
31  0.0095   923.4964
32  0.0095    29.0195
33  0.0095    56.7158
34  0.0091    58.3059
35  0.0089    63.2186
36  0.0087    35.6808
37  0.0063    17.3540
38  0.0058    25.4087
39  0.0056    22.5079
40  0.0053    73.5443
41  0.0042   218.9678
42  0.0041   153.2674
43  0.0040    43.9167
44  0.0032     7.4547
45  0.0032  1026.6044
46  0.0030   508.1242
47  0.0027    11.8265
48  0.0023    11.1596
49  0.0022     1.2694
50  0.0021 11707.4262
51  0.0019    67.6197
52  0.0017     5.9847</code></pre>
</div>
</div>
<p>This is R’s way of confirming that it imported the CSV file and understands the data within it. Four variables show each state’s rank (in terms of population size), name, current population, population growth between the <code>Pop</code> and <code>Pop2018</code> variables (expressed as a percentage), and 2018 population. Several other variables are hidden in the output, but you’ll see them if you import this CSV file yourself.</p>
<p>You might think you’re ready to work with your data now, but all you’ve really done at this point is display the result of running the code that imports the data. To actually use the data, you need to save it to an object.</p>
</section><section id="saving-data-as-objects" class="level3"><h3 class="anchored" data-anchor-id="saving-data-as-objects">Saving Data as Objects</h3>
<p>To save your data for reuse, you need to create an object. For the purposes of this discussion, an object is a data structure that is stored for later use. To create an object, update your data-importing syntax so it looks like this:</p>
<p>Now this line of code contains the <code>&lt;-</code> <em>assignment operator</em>, which takes what follows it and assigns it to the item on the left. To the left of the assignment operator is the <code>population_data</code> object. Put together, the whole line imports the CSV file and assigns it to an object called <code>population_data</code>.</p>
<p>When you run this code, you should see <code>population_data</code> in your environment pane, as shown in <a href="#fig-population-data-environment" class="quarto-xref">Figure&nbsp;<span>1.5</span></a>.</p>
<div id="fig-population-data-environment" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-population-data-environment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/population-data-environment.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-population-data-environment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.5: The population_data object in the environment pane
</figcaption></figure>
</div>
<p>This message confirms that your data import worked and that the <code>population_data</code> object is ready for future use. Now, instead of having to rerun the code to import the data, you can simply enter <code>population_data</code> in an R script file or in the console to output the data.</p>
<p>Data imported to an object in this way is known as a data frame. You can see that the <code>population_data</code> data frame has 52 observations and 9 variables. <em>Variables</em> are the data frame’s columns, each of which represents some value (for example, the population of each state). As you’ll see throughout the book, you can add new variables or modify existing ones using R code. The 52 observations come from the 50 states, as well as the District of Columbia and Puerto Rico.</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">population_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"/Users/davidkeyes/Documents/population-by-state.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="installing-packages" class="level3"><h3 class="anchored" data-anchor-id="installing-packages">Installing Packages</h3>
<p>The <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function you’ve been using, as well as the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> and <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> functions you saw earlier, comes from <em>base</em> R, the set of built-in R functions. To use base R functions, you simply enter their names. However, one of the benefits of R being an open source language is that anyone can create their own code and share it with others. R users around the world make R <em>packages</em>, which provide custom functions to accomplish specific goals.</p>
<p>The best analogy for understanding packages also comes from the book <em>Statistical Inference via Data Science</em>. The functionality in base R is like the features built into a smartphone. A smartphone can do a lot on its own, but you usually want to install additional apps for specific tasks. Packages are like apps, giving you functionality beyond what’s built into base R. In <a href="packages.html" class="quarto-xref"><span>Chapter 12</span></a>, you’ll create your own R package.</p>
<p>You can install packages using the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function. You’ll be working with the tidyverse package, which provides a range of functions for data import, cleaning, analysis, visualization, and more. To install it, enter <code>install.packages("tidyverse")</code>. Typically, you’ll enter package installation code in the console rather than in a script file because you need to install a package only once on your computer to access its code in the future.</p>
<p>To confirm that the tidyverse package has been installed correctly, click the <strong>Packages</strong> tab on the bottom-right pane in RStudio. Search for <code>tidyverse</code>, and you should see it pop up.</p>
<p>Now that you’ve installed the tidyverse, you’ll put it to use. Although you need to install packages only once per computer, you need to <em>load</em> them each time you restart RStudio. Return to the <code>sample-code.R</code> file and reimport your data using a function from the tidyverse package (your filepath will look slightly different):</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">population_data_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"/Users/davidkeyes/Documents/population-by-state.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>At the top of the script, the line <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> loads the <code>tidyverse</code> package. Then, the package’s <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> function imports the data. Note the underscore (<code>_</code>) in place of the period (<code>.</code>) in the function’s name; this differs from the base R function you used earlier. Using <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> to import CSV files achieves the same goal of creating an object, however — in this case, one called <code>population_data_2</code>. Enter <code>population_data_2</code> in the console, and you should see this output:</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">population_data_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/population-by-state.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">population_data_2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 9
    rank State       Pop  Growth Pop2018 Pop2010 growthSince2010 Percent density
   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1     1 Califor… 3.96e7  0.0038  3.95e7  3.73e7          0.0615  0.118     254.
 2     2 Texas    2.97e7  0.0385  2.86e7  2.52e7          0.178   0.0889    114.
 3     3 Florida  2.19e7  0.033   2.12e7  1.88e7          0.164   0.0656    409.
 4     4 New York 1.93e7 -0.0118  1.95e7  1.94e7         -0.0051  0.0577    410.
 5     5 Pennsyl… 1.28e7  0.0003  1.28e7  1.27e7          0.0073  0.0383    286.
 6     6 Illinois 1.26e7 -0.0121  1.27e7  1.28e7         -0.0211  0.0376    226.
 7     7 Ohio     1.17e7  0.0033  1.17e7  1.15e7          0.0152  0.035     287.
 8     8 Georgia  1.08e7  0.0303  1.05e7  9.71e6          0.115   0.0324    188.
 9     9 North C… 1.07e7  0.0308  1.04e7  9.57e6          0.118   0.032     220.
10    10 Michigan 9.99e6  0.0008  9.98e6  9.88e6          0.0116  0.0299    177.
# ℹ 42 more rows</code></pre>
</div>
</div>
<p>This data looks slightly different from the data you generated using the <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function. For example, R shows only the first 10 rows. This variation occurs because <code>read_csv(</code>) imports the data not as a data frame but as a data type called a <em>tibble</em>. Both data frames and tibbles are used to describe rectangular data like what you would see in a spreadsheet. There are some minor differences between data frames and tibbles, the most important of which is that tibbles print only the first 10 rows by default, while data frames print all rows. For the purposes of this book, the two terms are used interchangeably.</p>
</section></section><section id="rstudio-projects" class="level2"><h2 class="anchored" data-anchor-id="rstudio-projects">RStudio Projects</h2>
<p>So far, you’ve imported a CSV file from your <code>Documents</code> folder. But because others won’t have this exact location on their computer, your code won’t work if they try to run it. One solution to this problem is an RStudio project.</p>
<p>By working in a project, you can use <em>relative paths</em> to your files instead of having to write the entire filepath when calling a function to import data. Then, if you place the CSV file in your project, anyone can open it by using the file’s name, as in <code>read_csv(file = "population-by-state.csv")</code>. This makes the path easier to write and enables others to use your code.</p>
<p>To create a new RStudio project, go to File New Project. Select either New Directory or Existing Directory and choose where to put your project. If you choose New Directory, you’ll need to specify that you want to create a new project. Next, choose a name for the new directory and where it should live. (Leave the checkboxes that ask about creating a Git repository and using renv unchecked; they’re for more advanced purposes.)</p>
<p>Once you’ve created this project, you should see two major differences in RStudio’s appearance. First, the files pane no longer shows every file on your computer. Instead, it shows only files in the <code>example-project</code> directory. Right now, that’s just the <code>example-project.Rproj</code> file, which indicates that the folder contains a project. Second, at the top right of RStudio, you can see the name <code>example-project</code>. This label previously read <code>Project: (None)</code>. If you want to make sure you’re working in a project, check for its name here. <a href="#fig-rstudio-active-project.png" class="quarto-xref">Figure&nbsp;<span>1.6</span></a> shows these changes.</p>
<div id="fig-rstudio-active-project.png" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-rstudio-active-project.png-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/rstudio-active-project.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rstudio-active-project.png-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.6: RStudio with an active project
</figcaption></figure>
</div>
<p>Now that you’ve created a project, copy the <code>population-by-state.csv</code> file into the <code>example-project</code> directory. Once you’ve done so, you should see it in the RStudio files pane.</p>
<p>With this CSV file in your project, you can now import it more easily. As before, start by loading the tidyverse package. Then, remove the reference to the <code>Documents</code> folder and import your data by simply using the name of the file:</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">population_data_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"population-by-state.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The reason you can import the <code>population-by-state.csv</code> file this way is that the RStudio project sets the working directory to be the root of your project. With the working directory set like this, all references to files are relative to the <code>.Rproj</code> file at the root of the project. Now anyone can run this code because it imports the data from a location that is guaranteed to exist on their computer.</p>
</section><section id="data-analysis-with-the-tidyverse" class="level2"><h2 class="anchored" data-anchor-id="data-analysis-with-the-tidyverse">Data Analysis with the tidyverse</h2>
<p>Now that you’ve imported the population data, you’re ready to do a bit of analysis on it. Although I’ve been referring to the <code>tidyverse</code> as a single package, it’s actually a collection of packages. We’ll explore several of its functions throughout this book, but this section introduces you to its basic workflow.</p>
<section id="sec-tidyverse-functions" class="level3"><h3 class="anchored" data-anchor-id="sec-tidyverse-functions">tidyverse Functions</h3>
<p>Because you’ve loaded the <code>tidyverse</code> package, you can now access its functions. For example, the package’s <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function takes a data frame or tibble and calculates some piece of information for one or more of the variables in that dataset. The following code uses <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> to calculate the mean population of all states:</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>.data <span class="op">=</span> <span class="va">population_data_2</span>, mean_population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Pop</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, the code passes <code>population_data_2</code> to the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function’s .data argument to tell R to use that data frame to perform the calculation. Next, it creates a new variable called <code>mean_population</code> and assigns it to the output of the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> function introduced earlier. The <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> function runs on Pop, one of the variables in the <code>population_data_2</code> data frame.</p>
<p>You might be wondering why you don’t need to use the c() function within <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>, as shown earlier in this chapter. The reason is that you’re passing the function only one argument here: Pop, which contains the set of population data for which you’re calculating the mean. In this case, there’s no need to use <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> to combine multiple values into one.</p>
<p>Running this code should return a tibble with a single variable (<code>mean_population</code>), as shown here:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  mean_population
            &lt;dbl&gt;
1        6433422.</code></pre>
</div>
</div>
<p>The variable is of type double (<code>dbl</code>), which is used to hold general numeric data. Other common data types are integer (for whole numbers, such as <code>4</code>, <code>82</code>, and <code>915</code>), character (for text values), and logical (for the <code>TRUE</code>/<code>FALSE</code> values returned from comparison operations). The <code>mean_population</code> variable has a value of <code>6433422</code>, the mean population of all states.</p>
<p>Notice also that the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function creates a totally new tibble from the original <code>population_data_2</code> data frame. This is why the variables from <code>population_data_2</code> are no longer present in the output. This is a basic example of data analysis, but you can do a lot more with the tidyverse.</p>
</section><section id="the-tidyverse-pipe" class="level3"><h3 class="anchored" data-anchor-id="the-tidyverse-pipe">The tidyverse Pipe</h3>
<p>One advantage of working with the tidyverse is that it uses the <em>pipe</em> for multi-step operations. The <code>tidyverse</code> pipe, which is written as <code>%&gt;%</code>, allows you to break steps into multiple lines. For example, you could rewrite your code using the pipe like so:</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">population_data_2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Pop</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code says, “Start with the <code>population_data_2</code> data frame, then run the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function on it, creating a variable called <code>mean_population</code> by calculating the mean of the <code>Pop</code> variable.”</p>
<p>Notice that the line following the pipe is indented. To make the code easier to read, RStudio automatically adds two spaces to the start of lines that follow pipes.</p>
<p>The pipe becomes even more useful when you use multiple steps in your data analysis. Say, for example, you want to calculate the mean population of the five largest states. The following code adds a line that uses the <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> function, also from the tidyverse package, to include only states where the rank variable is less than or equal to (<code>&lt;=</code>) 5. Then, it uses <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> to calculate the mean of those states:</p>
<div class="cell">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">population_data_2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">rank</span> <span class="op">&lt;=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Pop</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Running this code returns the mean population of the five largest states:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  mean_population
            &lt;dbl&gt;
1        24678497</code></pre>
</div>
</div>
<p>Using the pipe to combine functions lets you refine your data in multiple ways while keeping it readable and easy to understand. Indentation can also make your code more readable. You’ve seen only a few functions for analysis at this point, but the <code>tidyverse</code> has many more functions that enable you to do nearly anything you could hope to do with your data. Because of how useful the <code>tidyverse</code> is, it will appear in every single piece of R code you write in this book.</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><em>R for Data Science, 2nd edition</em>, by Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund is the bible of tidyverse programming and worth reading for more details on how the package’s many functions work.</p>
</div>
</div>
</div>
</section></section><section id="comments" class="level2"><h2 class="anchored" data-anchor-id="comments">Comments</h2>
<p>In addition to code, R script files often contain <em>comments</em> — lines that begin with hash marks (<code>#</code>) and aren’t treated as runnable code but instead as notes for anyone reading the script. For example, you could add a comment to the code from the previous section, like so:</p>
<div class="cell">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Calculate the mean population of the five largest states</span></span>
<span><span class="va">population_data_2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">rank</span> <span class="op">&lt;=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Pop</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This comment will help others understand what is happening in the code, and it can also serve as a useful reminder for you if you haven’t worked on the code in a while. R knows to ignore any lines that begin with the hash mark instead of trying to run them.</p>
</section><section id="how-to-get-help" class="level2"><h2 class="anchored" data-anchor-id="how-to-get-help">How to Get Help</h2>
<p>Now that you’ve learned the basics of how R works, you’re probably ready to dive in and write some code. When you do, though, you’re going to encounter errors. Being able to get help when you run into issues is a key part of learning to use R successfully. There are two main strategies you can use to get unstuck.</p>
<p>The first is to read the documentation for the functions you use. Remember, to access the documentation for any function, simply enter ? and then the name of the function in the console. In the bottom-right pane in <a href="#fig-readcsv-documentation" class="quarto-xref">Figure&nbsp;<span>1.7</span></a>, for example, you can see the result of running <code><a href="https://rdrr.io/r/utils/read.table.html">?read.csv</a></code>.</p>
<div id="fig-readcsv-documentation" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-readcsv-documentation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/readcsv-documentation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-readcsv-documentation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.7: The documentation for the <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function
</figcaption></figure>
</div>
<p>Help files can be a bit hard to decipher, but essentially they describe what package the function comes from, what the function does, what arguments it accepts, and some examples of how to use it.</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>For additional guidance on reading documentation, I recommend the appendix of Kieran Healy’s book <em>Data Visualization: A Practical Introduction</em>. A free online version is available at <a href="https://socviz.co/appendix" class="uri">https://socviz.co/appendix</a>.html.</p>
</div>
</div>
</div>
<p>The second approach is to read the documentation websites associated with many R packages. These can be easier to read than RStudio’s help files. In addition, they often contain longer articles, known as <em>vignettes</em>, that provide an overview of how a given package works. Reading these can help you understand how to combine individual functions in the context of a larger project. Every package discussed in this book has a good documentation website.</p>
</section><section id="summary" class="level2"><h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>In this chapter, you learned the basics of R programming. You saw how to download and set up R and RStudio, what the various RStudio panes are for, and how R script files work. You also learned how to import CSV files and explore them in R, how to save data as objects, and how to install packages to access additional functions. Then, to make the files used in your code more accessible, you created an RStudio project. Finally, you experimented with <code>tidyverse</code> functions and the <code>tidyverse</code> pipe, and you learned how to get help when those functions don’t work as expected.</p>
<p>Now that you understand the basics, you’re ready to start using R to work with your data. See you in <a href="data-viz.html" class="quarto-xref"><span>Chapter 2</span></a>!</p>
</section><section id="additional-resources" class="level2"><h2 class="anchored" data-anchor-id="additional-resources">Additional Resources</h2>
<ul>
<li>Kieran Healy, <em>Data Visualization: A Practical Introduction</em> (Princeton, NJ: Princeton University Press, 2018), <a href="https://socviz.co" class="uri">https://socviz.co</a>.</li>
<li>Chester Ismay and Albert Y. Kim, <em>Statistical Inference via Data Science: A ModernDive into R and the Tidyverse</em> (Boca Raton, FL: CRC Press, 2020), <a href="https://moderndive.com" class="uri">https://moderndive.com</a>.</li>
<li>David Keyes, “Getting Started with R,” online course, accessed November 10, 2023, <a href="https://rfortherestofus.com/courses/getting-started" class="uri">https://rfortherestofus.com/courses/getting-started</a>.</li>
<li>Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund, <em>R for Data Science, 2nd ed.</em> (Sebastopol, CA: O’Reilly Media, 2023). <a href="https://r4ds.hadley.nz/" class="uri">https://r4ds.hadley.nz/</a>
</li>
</ul>


</section></main><!-- /main --><script>
document.addEventListener("DOMContentLoaded", function() {
    // figure
    var figcaptions = document.querySelectorAll("figcaption, .quarto-xref");

    figcaptions.forEach(function(figcaption) {
        var captionText = figcaption.textContent;
        var regex = /Figure[\s\u00A0](\d+)\.(\d+)/g;
        var updatedCaption = captionText.replace(regex, "Figure $1-$2");
        
        figcaption.textContent = updatedCaption;
    });
    
    // section
    var sectionRefs = document.querySelectorAll(".quarto-xref");

    sectionRefs.forEach(function(sectionRef) {
        var sectionText = sectionRef.textContent;
        var regex = /Section (\d+)\.(\d+)\.(\d+)/g;
        var sectionTextUpdated = sectionText.replace(regex, "Section $1-$2-$3");
        
        sectionRef.textContent = sectionTextUpdated;
    });
    
});
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/book\.rfortherestofus\.com\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation column-body"><div class="nav-page nav-page-previous">
      <a href="./introduction.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data-viz.html" class="pagination-link" aria-label="Principles of Data Visualization">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Principles of Data Visualization</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/rfortherestofus/book/blob/main/crash-course.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/rfortherestofus/book/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>